<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="../assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/standard.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/navbar.css">
  <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=" crossorigin="anonymous"></script>
  <script src="../assets/javascript/navbar.js"></script>
  <script src="../assets/bootstrap/js/bootstrap.min.js"></script>

</head>
<body>
<div id="navbar"></div>

<div class="container" align="right">
  <a href="../views/expired_products.html">
    Ver produtos vencidos
  </a>
  <button type="button" id="newProductButton" class="btn btn-primary" data-toggle="modal" data-target="#newProductModal">
    Criar novo Produto
  </button>
</div>

<!-- MODAL new product -->
<div class="modal fade" id="newProductModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Informações do novo Produto:</h4>
      </div>
      <div class="modal-body">

        <form id="formNewProduct" data-toggle="validator" role="form" onsubmit="formValidate (this)">
          <div class="form-group row">
            <div class="col-10">
              <label for="new-product-name" class="col-2 col-form-label">Imagem</label>
              <input id="new-product-image" type="file" name="Imagem" class="file required">
            </div>
          </div>
          <div class="form-group row">
            <label for="new-product-name" class="col-2 col-form-label">Nome</label>
            <div class="col-10">
              <input class="form-control required" type="text" name="Nome" placeholder="Nome do produto" id="new-product-name">
            </div>
          </div>
          <div class="form-group row">
            <label for="example-search-input" class="col-2 col-form-label">Descrição</label>
            <div class="col-10">
              <input class="form-control required" type="text" name="Descrição" placeholder="Breve descrição do produto" id="new-product-description">
            </div>
          </div>
          <div class="form-group row">
            <label for="example-email-input" class="col-2 col-form-label">Quantidade do produto</label>
            <div class="col-10">
              <input class="form-control required" type="number" min="0" name="Quantidade do produto" placeholder="0" id="new-product-amount">
            </div>
          </div>
          <div class="form-group row">
            <label for="example-url-input" class="col-2 col-form-label">Unidade de medida</label>
            <div class="col-10">
              <input class="form-control required" type="text" name="Unidade de medida" placeholder="litros, gramas" id="new-product-measurement">
            </div>
          </div>
          <div class="form-group row">
            <label for="example-number-input" class="col-2 col-form-label">Quantidade mínima do estoque</label>
            <div class="col-10">
              <input class="form-control required" type="number" min="0" step="1" name="Quantidade mínima do estoque" placeholder="0" id="new-product-min-amount">
            </div>
          </div>
          <div class="form-group row">
            <label for="example-tel-input" class="col-2 col-form-label">Valor por unidade</label>
            <div class="col-10">
              <input class="form-control required" type="number" min="0" name="Valor por unidade" placeholder="0" id="new-product-price">
            </div> <!-- inputgroup com R$ -->
          </div>
          <div class="form-group row">
            <label for="example-datetime-local-input" class="col-2 col-form-label">Data de validade</label>
            <div class="col-10">
              <input class="form-control required" type="date" name="Data de validade" value="12-06-2017" id="new-product-expiration-date">
            </div> <!-- validaçao de data mínima min="26-05-2017" -->
          </div>

          <!-- PROMOÇÃO -->
          <div class="checkbox">
            <label><input id="checkbox-sale" type="checkbox" value="" onclick="toggleSale()">Este produto tem promoção?</label>
          </div>
          <div class="form-group row" id="saleFieldDate" style="display:none;">
            <label for="example-datetime-local-input" class="col-2 col-form-label">Data final da promoção</label>
            <div class="col-10">
              <input class="form-control required-sale" type="date" name="Data final da promoção" value="12-06-2017" id="new-product-expiration-date-sale">
            </div> <!-- validaçao de data mínima min="26-05-2017" -->
          </div>
          <div class="form-group row" id="saleFieldPercent" style="display:none;">
            <label for="example-tel-input" class="col-2 col-form-label">Porcentagem da promoção</label>
            <div class="col-10">
              <input class="form-control required-sale" type="number" min="0" name="Porcentagem da promoção" placeholder="0" id="new-product-price">
            </div> <!-- inputgroup com % -->
          </div>
          <div class="form-group row" id="saleFieldUnit" style="display:none;">
            <label for="example-tel-input" class="col-2 col-form-label">Unidade de produto mínima para essa promoção</label>
            <div class="col-10">
              <input class="form-control required-sale" type="number" min="0" name="Unidade de produto mínima para essa promoção" placeholder="0" id="new-product-price">
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary">Criar Produto</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- MODAL END -->

<script>
function formValidate (form) {
  $('#formNewProduct').validator()
  // inputs = document.getElementsByClassName("required");
	// var mensagemValidate = "";
  //
  // for(var i = 0; i < inputs.length; i++){
  //   if (inputs[i].value == "")	{
  //     mensagemValidate += "O campo " + inputs[i].name +" é obrigatório\n";
  //   }
  // }
  // if ($("#checkbox-sale") == true) {
  //   inputsSale = document.getElementsByClassName("required-sale");
  //   var mensagemValidateSale = "";
  //
  //   for(var i = 0; i < inputsSale.length; i++){
  //     if (inputsSale[i].value == "")	{
  //       mensagemValidateSale += "O campo " + inputsSale[i].name +" é obrigatório\n";
  //     }
  //   }
  // }
  // if (mensagemValidate != "" || mensagemValidateSale != ""){
  //   alert(mensagemValidate + "\n" + mensagemValidateSale);
  //   return false;
  // }
}

function toggleSale (radioAnswer) {
  $("#saleFieldDate").toggle();
  $("#saleFieldPercent").toggle();
  $("#saleFieldUnit").toggle();
}

</script>

</body>
</html>
